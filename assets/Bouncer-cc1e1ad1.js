import{b5 as E,b6 as M,aY as b,b7 as R,b8 as g,b9 as q,aC as D,b0 as m,ba as H}from"./index-472f4847.js";import{C as d,R as h}from"./Ranges-7b6ccf7d.js";import{Bounce as w}from"./index-7c181ad2.js";import{E as I}from"./ExternalInteractorBase-029fb1b6.js";const O=2,l=.5,P=Math.PI*l,p=2,y=10,C=0;function x(c,e,t,o,s){const i=c.particles.quadTree.query(o,s);for(const n of i)o instanceof d?M(R(n),{position:e,radius:t,mass:t**O*P,velocity:b.origin,factor:b.origin}):o instanceof h&&g(n,q(e,t))}function S(c,e,t,o){const s=document.querySelectorAll(e);s.length&&s.forEach(i=>{const n=i,a=c.retina.pixelRatio,r={x:(n.offsetLeft+n.offsetWidth*l)*a,y:(n.offsetTop+n.offsetHeight*l)*a},v=n.offsetWidth*l*a,u=y*a,B=t.type==="circle"?new d(r.x,r.y,v+u):new h(n.offsetLeft*a-u,n.offsetTop*a-u,n.offsetWidth*a+u*p,n.offsetHeight*a+u*p);o(r,v,B)})}function T(c,e,t,o){E(t,e,(s,i)=>S(c,s,i,(n,a,r)=>x(c,n,a,r,o)))}function W(c,e){const t=c.retina.pixelRatio,o=y*t,s=c.interactivity.mouse.position,i=c.retina.bounceModeDistance;!i||i<C||!s||x(c,s,i,new d(s.x,s.y,i+o),e)}const f="bounce";class Y extends I{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,o=t.interactivity.events,s=e.interactivity.status===D,i=o.onHover.enable,n=o.onHover.mode,a=o.onDiv;s&&i&&m(f,n)?W(this.container,r=>this.isEnabled(r)):T(this.container,a,f,r=>this.isEnabled(r))}isEnabled(e){const t=this.container,o=t.actualOptions,s=t.interactivity.mouse,i=((e==null?void 0:e.interactivity)??o.interactivity).events,n=i.onDiv;return!!s.position&&i.onHover.enable&&m(f,i.onHover.mode)||H(f,n)}loadModeOptions(e,...t){e.bounce||(e.bounce=new w);for(const o of t)e.bounce.load(o==null?void 0:o.bounce)}reset(){}}export{Y as Bouncer};
